{% extends "base.html" %}

{% block title %}Jobs{% endblock %}

{% block content %}
<section class="card">
    <h2>Download jobs</h2>
    {% if jobs.len() == 0 %}
        <p>No jobs yet.</p>
    {% else %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Status</th>
                <th>Started</th>
                <th>Finished</th>
                <th>Source</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for job in jobs %}
            <tr>
                <td class="mono">{{ job.id }}</td>
                <td>{{ job.status }}</td>
                <td data-ts="{{ job.started_at }}">{{ job.started_at_display }}</td>
                <td {% if let Some(ts) = job.finished_at %}data-ts="{{ ts }}"{% endif %}>{{ job.finished_at_display }}</td>
                <td class="wrap">{{ job.playlist_url }}</td>
                <td><a href="/jobs/{{ job.id }}">View</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
</section>
{% endblock %}
